<InvoiceLabel@Label>:
    size_hint_y: None
    height:dp(40)
    padding: [10, 10]
    halign: 'left'
    valign: 'middle'
    text_size: self.size

<InvoiceButton@Button>:
    size_hint_y: None
    height:dp(40)
    background_color: 1, 0, 0, 1
    color: 1, 1, 1, 1
    canvas.before:
        Color:
            rgba: 1, 0, 0, 1
        Line:
            width: 1
            rectangle: self.x, self.y, self.width, self.height


<Report>:
    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: "Report"
            md_bg_color: 1, 0, 0, 1  # Red color for the background
            anchor_title: 'center'
            left_action_items: [['arrow-left', lambda x: root.go_back()]]

        ScrollView:
            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                padding:dp(20)
                spacing:dp(10)

                # Header Section
                BoxLayout:
                    orientation: 'horizontal'
                    size_hint_y: None
                    height:dp(100)
                    padding:dp(10)

                    Image:
                        id: company_logo
                        source: 'images/shot.png'
                        size_hint: None, None
                        size: 200, 100

                    BoxLayout:
                        orientation: 'vertical'
                        padding:dp(5)

                        Label:
                            text: 'OXIVIVE'
                            id: company_name_label
                            font_size:dp(30)
                            bold: True
                            color: [0, 0, 0, 1]

                        Label:
                            text: 'Anti-aging Treatment'
                            id: company_description
                            font_size:dp(20)
                            color: [0, 0, 0, 1]

                # Table Section
                GridLayout:
                    cols: 4  # Adjusted for Booking ID, Patient, Amount, and Tax columns
                    size_hint_y: None
                    height: self.minimum_height
                    row_default_height:dp(40)
                    spacing:dp(20)
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1  # Black color for borders
                        Line:
                            width: 1
                            rectangle: self.x, self.y, self.width, self.height

                    Label:
                        text: 'Booking ID:'
                        bold: True
                        font_size:dp(12)
                        color: [0, 0, 0, 1]
                    Label:
                        id: booking_id
                        font_size:dp(10)
                        color: [0, 0, 0, 1]

                    Label:
                        text: 'Patient Name:'
                        bold: True
                        font_size:dp(12)
                        color: [0, 0, 0, 1]
                    Label:
                        id: patient_name
                        font_size:dp(10)
                        color: [0, 0, 0, 1]

                    Label:
                        text: 'Doctor Name:'
                        bold: True
                        font_size:dp(12)
                        color: [0, 0, 0, 1]
                    Label:
                        id: doctor_name
                        font_size:dp(10)
                        color: [0, 0, 0, 1]

                    Label:
                        text: 'Address:'
                        bold: True
                        font_size:dp(12)
                        color: [0, 0, 0, 1]
                    Label:
                        id: address
                        font_size:dp(12)
                        color: [0, 0, 0, 1]

                # Details Section
                GridLayout:
                    cols: 4  # Adjusted for Service Type, Session, Subtotal, and Grand Total columns
                    size_hint_y: None
                    height: self.minimum_height
                    row_default_height:dp(40)
                    spacing:dp(10)
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1  # Black color for borders
                        Line:
                            width: 1
                            rectangle: self.x, self.y, self.width, self.height

                    Label:
                        text: 'Service Type:'
                        bold: True
                        font_size:dp(12)
                        color: [0, 0, 0, 1]
                    Label:
                        id: service_type
                        font_size:dp(10)
                        color: [0, 0, 0, 1]

                    Label:
                        text: 'Session (out of 40):'
                        bold: True
                        font_size:dp(12)
                        color: [0, 0, 0, 1]
                    Label:
                        id: session
                        font_size:dp(10)
                        color: [0, 0, 0, 1]

                    Label:
                        text: 'Price:'
                        bold: True
                        font_size:dp(12)
                        color: [0, 0, 0, 1]
                    Label:
                        id: price_label
                        font_size:dp(10)
                        color: [0, 0, 0, 1]

                    Label:
                        text: 'Sub Total:'
                        bold: True
                        font_size:dp(12)
                        color: [0, 0, 0, 1]
                    Label:
                        id: subtotal
                        font_size:dp(10)
                        text: "$0.00"
                        color: [0, 0, 0, 1]

                # Tax Section
                GridLayout:
                    cols: 4  # Adjusted for CGST, SGST, and placeholders
                    size_hint_y: None
                    height: self.minimum_height
                    row_default_height:dp(40)
                    spacing:dp(10)
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1  # Black color for borders
                        Line:
                            width: 1
                            rectangle: self.x, self.y, self.width, self.height

                    Label:
                        text: 'CGST (8%):'
                        bold: True
                        font_size:dp(12)
                        color: [0, 0, 0, 1]
                    Label:
                        id: cgst
                        text: "$0.00"
                        font_size:dp(10)
                        color: [0, 0, 0, 1]

                    Label:
                        text: 'SGST (8%):'
                        font_size:dp(12)
                        bold: True
                        color: [0, 0, 0, 1]
                    Label:
                        id: sgst
                        text: "$0.00"
                        font_size:dp(10)
                        color: [0, 0, 0, 1]

                    Label:
                        text: ''  # Placeholder
                        color: [0, 0, 0, 1]
                    Label:
                        text: ''  # Placeholder
                        color: [0, 0, 0, 1]

                # Grand Total Section
                GridLayout:
                    cols: 4  # Adjusted for Grand Total and placeholders
                    size_hint_y: None
                    height: self.minimum_height
                    row_default_height:dp(40)
                    spacing:dp(10)
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1  # Black color for borders
                        Line:
                            width: 1
                            rectangle: self.x, self.y, self.width, self.height

                    Label:
                        text: 'Grand Total:'
                        bold: True
                        font_size:dp(12)
                        color: [0, 0, 0, 1]
                    Label:
                        id: grand_total
                        font_size:dp(10)
                        text: "$0.00"

                        color: [0, 0, 0, 1]

                    Label:
                        text: ''  # Placeholder
                        color: [0, 0, 0, 1]
                    Label:
                        text: ''  # Placeholder
                        color: [0, 0, 0, 1]

                # Footer Section
                BoxLayout:
                    orientation: 'horizontal'
                    spacing:dp(10)
                    size_hint_y: None
                    height:dp(50)

                    MDRoundFlatButton:
                        text: 'Download Invoice'
                        text_color: 1, 0, 0, 1  # Red color for the text
                        line_color: 1, 0, 0, 1  # Red color for the button outline
                        halign:"center"
                        on_press: root.save_pdf()
