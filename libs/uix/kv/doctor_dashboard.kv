<HomeScreen>:
    MDBottomNavigation:
        # Tab for Home Screen
        MDBottomNavigationItem:
            name: 'home'
            text: 'Home'
            icon: 'home'
            on_tab_press: root.manager.push_replacement("HomeScreen")

            MDBoxLayout:
                orientation: 'vertical'
                padding: '10dp'

                # Header Section - User name and profile
                MDBoxLayout:
                    orientation: 'horizontal'
                    size_hint_y: None
                    height: dp(60)
                    padding: dp(10), dp(10)
                    spacing: dp(10)

                    MDBoxLayout:
                        orientation: 'vertical'
                        MDLabel:
                            text: "Hello,"
                            font_style: "Subtitle1"
                            halign: 'left'

                        MDLabel:
                            id: username_label
                            text: "DR.William"
                            bold: True
                            halign: 'left'
                            color: 1, 0, 0, .3

                    Widget:  # Spacer to push the profile picture to the right
                    MDBoxLayout:
                        size_hint: None, None
                        size: dp(50), dp(50)
                        pos_hint: {"center_y": .5}
                        FitImage:
                            id: profile_image
                            source: "images/profile.jpg"  # Replace with your image path
                            allow_stretch: True
                            keep_ratio: True
                            radius: [dp(150), ]

                # Appointment Today Section
                MDBoxLayout:
                    orientation: 'horizontal'
                    padding: dp(10), 0
                    size_hint_y: None
                    height: dp(40)

                    MDLabel:
                        text: "Upcoming Appointments"
                        font_style: "Subtitle1"
                        halign: 'left'

                    MDTextButton:
                        text: "See All"
                        pos_hint: {'center_y': 0.5}
                        halign: "right"
                        on_release: root.see_all_appointments()

                ScrollView:
                    MDBoxLayout:
                        id: today_appointments_list
                        orientation: 'vertical'
                        padding: dp(10)
                        spacing: dp(10)  # Adding spacing between cards
                        size_hint_y: None
                        height: self.minimum_height  # Dynamic height based on content
                        adaptive_height: True  # Adjust height dynamically based on content

        # Tab for Profile Screen
        MDBottomNavigationItem:
            name: 'profile'
            text: 'Profile'
            icon: 'account'
            on_tab_press: root.manager.push_replacement("ProfileScreen")

            MDBoxLayout:
                orientation: 'vertical'
                padding: '10dp'

                MDBoxLayout:
                    orientation: 'vertical'
                    padding: dp(20)

                    MDLabel:
                        id: profile_name
                        text: "Dr. William"
                        font_style: "H5"
                        halign: 'left'

                    MDLabel:
                        id: profile_email
                        text: "william@example.com"
                        font_style: "Subtitle1"
                        halign: 'left'

                    MDLabel:
                        id: profile_phone
                        text: "+1 234 567 890"
                        font_style: "Subtitle1"
                        halign: 'left'

                # Profile Picture
                MDBoxLayout:
                    orientation: 'horizontal'
                    size_hint_y: None
                    height: dp(150)
                    padding: dp(20)

                    FitImage:
                        id: profile_picture
                        source: 'images/profile.jpg'  # Replace with your image path
                        allow_stretch: True
                        keep_ratio: True
                        radius: [dp(150), ]

<AppointmentScreen>:

    BoxLayout:
        orientation: 'vertical'

        MDLabel:
            id: booking_status_label
            text: "Upcoming Bookings"
            halign: "center"
            font_style: "H5"
            size_hint_y: None
            height: self.texture_size[1] + dp(20)
            padding_y: dp(10)

        BoxLayout:
            orientation: 'horizontal'

            MDNavigationRail:
                # Add your MDNavigationRailItems here
                MDNavigationRailItem:
                    name: 'upcoming'
                    text: 'Upcoming'
                    icon: 'calendar-check'
                    padding_y: dp(10)
                    text_color_active: 1, 0, 0, 1
                    icon_color_active: 1, 0, 0, 1
                    on_press: app.root.get_screen('AppointmentScreen').load_appointments_by_status('Upcoming')

                MDNavigationRailItem:
                    name: 'complete'
                    text: 'Complete'
                    icon: 'check-circle'
                    padding_y: dp(10)
                    text_color_active: 1, 0, 0, 1
                    icon_color_active: 1, 0, 0, 1
                    on_press: app.root.get_screen('AppointmentScreen').load_appointments_by_status('Complete')

                MDNavigationRailItem:
                    name: 'cancel'
                    text: 'Cancel'
                    icon: 'cancel'
                    padding_y: dp(10)
                    text_color_active: 1, 0, 0, 1
                    icon_color_active: 1, 0, 0, 1
                    on_press: app.root.get_screen('AppointmentScreen').load_appointments_by_status('Cancel')

            ScrollView:
                MDBoxLayout:
                    id: appointment_list
                    orientation: 'vertical'
                    padding: "10dp"
                    spacing: "5dp"
                    size_hint_y: None
                    height: self.minimum_height
# This is kivy file belonged to the Appointment details screen
<HomeScreen>:
    MDBottomNavigation:
        # Tab for Home Screen
        MDBottomNavigationItem:
            name: 'home'
            text: 'Home'
            icon: 'home'
            on_tab_press: root.manager.push_replacement("HomeScreen")

            MDBoxLayout:
                orientation: 'vertical'
                padding: '10dp'

                # Header Section - User name and profile
                MDBoxLayout:
                    orientation: 'horizontal'
                    size_hint_y: None
                    height: dp(60)
                    padding: dp(10), dp(10)
                    spacing: dp(10)

                    MDBoxLayout:
                        orientation: 'vertical'
                        MDLabel:
                            text: "Hello,"
                            font_style: "Subtitle1"
                            halign: 'left'

                        MDLabel:
                            id: username_label
                            text: "DR.William"
                            bold: True
                            halign: 'left'
                            color: 1, 0, 0, .3

                    Widget:  # Spacer to push the profile picture to the right
                    MDBoxLayout:
                        size_hint: None, None
                        size: dp(50), dp(50)
                        pos_hint: {"center_y": .5}
                        FitImage:
                            id: profile_image
                            source: "images/profile.jpg"  # Replace with your image path
                            allow_stretch: True
                            keep_ratio: True
                            radius: [dp(150), ]

                # Appointment Today Section
                MDBoxLayout:
                    orientation: 'horizontal'
                    padding: dp(10), 0
                    size_hint_y: None
                    height: dp(40)

                    MDLabel:
                        text: "Upcoming Appointments"
                        font_style: "Subtitle1"
                        halign: 'left'

                    MDTextButton:
                        text: "See All"
                        pos_hint: {'center_y': 0.5}
                        halign: "right"
                        on_release: root.see_all_appointments()

                ScrollView:
                    MDBoxLayout:
                        id: today_appointments_list
                        orientation: 'vertical'
                        padding: dp(10)
                        spacing: dp(10)  # Adding spacing between cards
                        size_hint_y: None
                        height: self.minimum_height  # Dynamic height based on content
                        adaptive_height: True  # Adjust height dynamically based on content

        # Tab for Profile Screen
        MDBottomNavigationItem:
            name: 'profile'
            text: 'Profile'
            icon: 'account'
            on_tab_press: root.manager.push_replacement("ProfileScreen")

            MDBoxLayout:
                orientation: 'vertical'
                padding: '10dp'

                MDBoxLayout:
                    orientation: 'vertical'
                    padding: dp(20)

                    MDLabel:
                        id: profile_name
                        text: "Dr. William"
                        font_style: "H5"
                        halign: 'left'

                    MDLabel:
                        id: profile_email
                        text: "william@example.com"
                        font_style: "Subtitle1"
                        halign: 'left'

                    MDLabel:
                        id: profile_phone
                        text: "+1 234 567 890"
                        font_style: "Subtitle1"
                        halign: 'left'

                # Profile Picture
                MDBoxLayout:
                    orientation: 'horizontal'
                    size_hint_y: None
                    height: dp(150)
                    padding: dp(20)

                    FitImage:
                        id: profile_picture
                        source: 'images/profile.jpg'  # Replace with your image path
                        allow_stretch: True
                        keep_ratio: True
                        radius: [dp(150), ]

# AppointmentDetailScreen to display the appointment details
<AppointmentDetailScreen>:
    name: 'AppointmentDetailScreen'

    MDBoxLayout:
        orientation: 'vertical'
        padding: dp(20)

        MDLabel:
            id: doctor_name
            text: "Doctor Name"
            font_style: "H5"
            halign: 'center'

        MDLabel:
            id: appointment_time
            text: "Appointment Time"
            font_style: "Subtitle1"
            halign: 'center'

        MDLabel:
            id: appointment_location
            text: "Location"
            font_style: "Subtitle1"
            halign: 'center'

        MDRaisedButton:
            text: "Go Back"
            pos_hint: {'center_x': 0.5}
            on_release: app.root.current = 'home'



# This is kivy file belonged to the Profile screen
<ProfileScreen>:
    MDBoxLayout:
        orientation: 'vertical'
        padding: dp(20)
        spacing: dp(10)

        # Header with back button and title
        MDBoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: dp(50)
            spacing: dp(10)

            MDIconButton:
                icon: 'arrow-left'  # Left arrow icon
                on_release: root.go_back()

            MDLabel:
                text: 'Doctor Details'
                halign: 'center'
                font_style: 'H6'
                size_hint_x: None
                width: dp(200)

            MDIconButton:
                icon:'logout'
                on_release: root.logout()

        # Centered Profile Picture
        RelativeLayout:
            size_hint_y: None
            height: dp(100)  # Adjust height as needed

            FitImage:
                id: profile_image # Give an ID to change the image
                source: "images/profile.jpg"  # Add user profile picture path here
                size_hint: None, None
                size: dp(100), dp(100)
                radius: [50,]
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}  # Centering the image


        # Name Label
        MDLabel:
            id: username_label

            halign: 'center'  # Center the text
            size_hint_y: None
            height: dp(40)  # Set a height to create space below the image



        # Grid Layout for additional info
        GridLayout:
            cols: 2
            row_default_height: dp(40)
            row_force_default: True
            padding: dp(10)
            spacing: dp(10)

            MDLabel:
                text:'Email :'
            MDLabel:
                id: email_label


            MDLabel:
                text: 'Date of Birth:'
            MDLabel:
                text: '01/01/1990'  # Replace with actual date of birth

            MDLabel:
                text: 'Gender:'
            MDLabel:
                text: 'Male'  # Replace with actual gender
            MDLabel:
                text:'Mobile Number: '
            MDLabel:
                id: phone_label


            MDLabel:
                text: 'Specialist:'
            MDLabel:
                text: 'Cardiologist'  # Replace with actual specialist

            MDLabel:
                text: 'License ID:'
            MDLabel:
                text: 'LIC123456'  # Replace with actual license ID







